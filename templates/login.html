{% extends "index.html" %}

{% block content %}
    <div id="loginModal">
        <form action="" method="post">
            {{ log_form.hidden_tag() }}
            <div class="form-floating">
                <input type="email" class="form-control" id="floatingEmail"
                       name="email" placeholder="name@example.com" autocomplete="email"><br>
                <label for="floatingEmail">{{ log_form.email.label }}</label>
                {% for error in log_form.email.errors %}
                    <p class="alert alert-danger" role="alert">
                        {{ error }}
                    </p>
                {% endfor %}
            </div>
            <div class="form-floating password">
                <input type="password" class="form-control" id="floatingPassword"
                       name="password" placeholder="Password" autocomplete="current-password"><br>
                <a href="#" class="password-control"></a>
                <label for="floatingPassword">{{ log_form.password.label }}</label>
                {% for error in log_form.password.errors %}
                    <p class="alert alert-danger" role="alert">
                        {{ error }}
                    </p>
                {% endfor %}
            </div>
            <div class="form-check text-start my-3">
              <input class="form-check-input" type="checkbox" value="remember-me"
                     id="flexCheckDefault" name="remember_me">
              <label class="form-check-label" for="flexCheckDefault">Remember me</label>
            </div>
            <input class="btn btn-dark-button" type="submit" value="Войти">
            {{login_message}}
        </form>
    </div>
{% endblock %}
{% block scripts %}
    <script type="text/javascript">
                $(window).on('load', function() {
                    $('#regLogButtons').hide();
                });
    </script>
    <script>
    $('body').on('click', '.password-control', function(){
      if ($('#floatingPassword').attr('type') == 'password'){
          $(this).addClass('view');
          $('#floatingPassword').attr('type', 'text');
      } else {
          $(this).removeClass('view');
          $('#floatingPassword').attr('type', 'password');
      }
      return false;
    });
    </script>
{% endblock %}